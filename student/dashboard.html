<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AttendPro - Student Dashboard</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --primary-color: #667eea;
            --secondary-color: #764ba2;
            --success-color: #10b981;
            --warning-color: #f59e0b;
            --danger-color: #ef4444;
            --info-color: #3b82f6;
            --bg-light: #f8fafc;
            --bg-white: #ffffff;
            --text-dark: #1f2937;
            --text-light: #6b7280;
            --text-muted: #9ca3af;
            --border-color: #e5e7eb;
            --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
            --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1);
            --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1);
            --border-radius: 8px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg-light);
            color: var(--text-dark);
            line-height: 1.6;
        }

        /* Header Styles */
        .header {
            background: var(--primary-gradient);
            color: white;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: var(--shadow-lg);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            background: rgba(255, 255, 255, 0.1);
            padding: 0.5rem 1rem;
            border-radius: 50px;
            backdrop-filter: blur(10px);
        }

        .datetime {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .header-btn {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .header-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .header-btn.logout:hover {
            background: rgba(239, 68, 68, 0.3);
        }

        .main-container {
            display: flex;
            min-height: 100vh;
            flex-direction: column;
        }

        /* Sidebar */
        .sidebar {
            width: 280px;
            background: var(--primary-gradient);
            color: white;
            padding: 2rem 0;
            position: fixed;
            left: 0;
            top: 80px;
            height: calc(100vh - 80px);
            z-index: 1000;
            overflow-y: auto;
        }

        .sidebar-header {
            padding: 20px;
            text-align: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }

        .sidebar-brand h4 {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .sidebar-brand p {
            font-size: 0.9rem;
            opacity: 0.8;
        }

        .sidebar-nav {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .nav-item {
            padding: 1rem 2rem;
            cursor: pointer;
            transition: all 0.3s ease;
            border-left: 3px solid transparent;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .nav-item:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .nav-item.active {
            background: rgba(255, 255, 255, 0.2);
            border-left-color: white;
        }

        .nav-item i {
            font-size: 1.2rem;
            width: 20px;
            text-align: center;
        }

        /* Main Content */
        .main-content {
            flex: 1;
            margin-left: 280px;
            margin-top: 80px;
            padding: 2rem;
            background: var(--bg-light);
            min-height: calc(100vh - 80px);
        }

        .header-card {
            background: white;
            border-radius: var(--border-radius);
            padding: 1.5rem;
            margin-bottom: 2rem;
            box-shadow: var(--shadow-sm);
            border: 1px solid var(--border-color);
        }

        .welcome-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .welcome-info h2 {
            color: var(--text-dark);
            margin-bottom: 0.5rem;
        }

        .date-info {
            color: var(--text-light);
            font-size: 0.9rem;
        }

        /* Content Sections */
        .content-section {
            display: none;
            background: white;
            border-radius: var(--border-radius);
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: var(--shadow-sm);
            border: 1px solid var(--border-color);
        }

        .content-section.active {
            display: block;
        }

        .section-title {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 1.5rem;
            color: var(--text-dark);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        /* Stat Cards */
        .stat-card {
            background: white;
            border-radius: var(--border-radius);
            padding: 1.5rem;
            box-shadow: var(--shadow-sm);
            border: 1px solid var(--border-color);
            margin-bottom: 1rem;
            transition: transform 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        .stat-icon {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1rem;
            font-size: 1.5rem;
            color: white;
        }

        .stat-icon.bg-primary {
            background: var(--primary-color);
        }

        .stat-icon.bg-success {
            background: var(--success-color);
        }

        .stat-icon.bg-warning {
            background: var(--warning-color);
        }

        .stat-icon.bg-info {
            background: var(--info-color);
        }

        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            color: var(--text-dark);
            margin-bottom: 0.5rem;
        }

        .stat-label {
            color: var(--text-light);
            font-size: 0.9rem;
        }

        .progress {
            height: 8px;
            border-radius: 4px;
            background: #e5e7eb;
            margin-top: 1rem;
        }

        .progress-bar {
            background: var(--primary-color);
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        /* Buttons */
        .btn-custom {
            background: var(--primary-gradient);
            border: none;
            border-radius: 25px;
            padding: 10px 25px;
            color: white;
            font-weight: 600;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .btn-custom:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        /* List Groups */
        .list-group-item {
            border: 1px solid var(--border-color);
            padding: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .badge {
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .bg-primary {
            background: var(--primary-color) !important;
        }

        .bg-success {
            background: var(--success-color) !important;
        }

        .bg-warning {
            background: var(--warning-color) !important;
        }

        /* Achievement Badges */
        .achievement-badge {
            display: inline-block;
            background: var(--primary-gradient);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            margin: 0.25rem;
            font-size: 0.8rem;
            font-weight: 500;
        }

        /* Clock Styles */
        .clock-container {
            width: 200px;
            height: 200px;
            position: relative;
            margin: 0 auto;
        }

        .clock {
            width: 100%;
            height: 100%;
            border: 3px solid var(--primary-color);
            border-radius: 50%;
            position: relative;
            background: white;
        }

        .hour-hand, .minute-hand, .second-hand {
            position: absolute;
            background: var(--text-dark);
            transform-origin: bottom center;
            border-radius: 2px;
        }

        .hour-hand {
            width: 4px;
            height: 60px;
            top: 40px;
            left: 50%;
            margin-left: -2px;
        }

        .minute-hand {
            width: 3px;
            height: 80px;
            top: 20px;
            left: 50%;
            margin-left: -1.5px;
        }

        .second-hand {
            width: 2px;
            height: 90px;
            top: 10px;
            left: 50%;
            margin-left: -1px;
            background: var(--danger-color);
        }

        .center-dot {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 8px;
            height: 8px;
            background: var(--text-dark);
            border-radius: 50%;
            transform: translate(-50%, -50%);
        }

        .time-display {
            text-align: center;
            font-size: 1.5rem;
            font-weight: bold;
            margin-top: 1rem;
            color: var(--text-dark);
        }

        .date-display {
            text-align: center;
            color: var(--text-light);
            margin-top: 0.5rem;
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .header {
                padding: 1rem;
            }

            .header-right {
                gap: 0.5rem;
            }

            .user-info {
                display: none;
            }

            .datetime {
                font-size: 0.8rem;
            }

            .sidebar {
                transform: translateX(-100%);
                transition: transform 0.3s ease;
                top: 80px;
                height: calc(100vh - 80px);
            }

            .sidebar.show {
                transform: translateX(0);
            }

            .main-content {
                margin-left: 0;
                margin-top: 80px;
            }

            .welcome-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 1rem;
            }

            .mobile-menu-btn {
                display: block;
                position: fixed;
                top: 20px;
                left: 20px;
                z-index: 1001;
                background: var(--primary-gradient);
                color: white;
                border: none;
                border-radius: 50%;
                width: 50px;
                height: 50px;
                font-size: 1.2rem;
            }
        }

        .mobile-menu-btn {
            display: none;
        }

        /* Notification */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 25px;
            border-radius: 25px;
            color: white;
            font-weight: 600;
            z-index: 2000;
            transform: translateX(400px);
            transition: transform 0.3s ease;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.success {
            background: var(--success-color);
        }

        .notification.error {
            background: var(--danger-color);
        }

        .notification.info {
            background: var(--info-color);
        }

        /* Notice Items */
        .notice-item {
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius);
            padding: 1rem;
            margin-bottom: 1rem;
            background: white;
        }

        .notice-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
        }

        .notice-header h5 {
            margin: 0;
            color: var(--text-dark);
        }

        .notice-content {
            color: var(--text-light);
            margin-bottom: 0.5rem;
        }

        /* Note Items */
        .note-item {
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius);
            padding: 1rem;
            margin-bottom: 1rem;
            background: white;
        }

        .note-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
        }

        .note-header h5 {
            margin: 0;
            color: var(--text-dark);
        }

        .note-content {
            color: var(--text-light);
            margin-bottom: 1rem;
        }

        .note-actions {
            display: flex;
            gap: 0.5rem;
        }

        /* Progress Items */
        .progress-item {
            margin-bottom: 1rem;
        }

        .progress-item span {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: var(--text-dark);
        }

        /* Achievement Items */
        .achievement-stats {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .stat-item {
            text-align: center;
            padding: 1rem;
            background: var(--bg-light);
            border-radius: var(--border-radius);
        }

        .stat-number {
            display: block;
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }

        .achievement-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem;
            margin-bottom: 0.5rem;
            border-radius: var(--border-radius);
            background: var(--bg-light);
            color: var(--text-light);
            opacity: 0.5;
        }

        .achievement-item.earned {
            background: var(--primary-gradient);
            color: white;
            opacity: 1;
        }

        .achievement-item i {
            color: var(--warning-color);
        }

        .achievement-item.earned i {
            color: white;
        }

        /* Live Indicator */
        .live-indicator {
            display: inline-block;
            width: 8px;
            height: 8px;
            background: var(--success-color);
            border-radius: 50%;
            margin-right: 0.5rem;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }

        /* Mobile Bottom Navigation */
        .bottom-nav {
            display: none;
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            border-top: 1px solid var(--border-color);
            padding: 0.5rem;
            z-index: 1000;
            backdrop-filter: blur(10px);
        }
        
        /* Enhanced Mobile Styles */
        @media (max-width: 768px) {
            .stat-card {
                margin-bottom: 1rem;
            }
            
            .stat-value {
                font-size: 1.5rem;
            }
            
            .note-item, .notice-item {
                margin-bottom: 0.75rem;
            }
            
            .table-responsive {
                font-size: 0.875rem;
            }
            
            .btn-sm {
                padding: 0.25rem 0.5rem;
                font-size: 0.75rem;
            }
            
            .modal-dialog {
                margin: 0.5rem;
            }
            
            .welcome-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 1rem;
            }
            
            .d-flex.gap-3 {
                flex-direction: column;
                align-items: flex-start;
                gap: 0.5rem;
            }
        }

        .bottom-nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 0.5rem;
            text-decoration: none;
            color: var(--text-light);
            font-size: 0.8rem;
            transition: color 0.3s ease;
        }

        .bottom-nav-item.active {
            color: var(--primary-color);
        }

        .bottom-nav-item i {
            font-size: 1.2rem;
            margin-bottom: 0.25rem;
        }

        @media (max-width: 768px) {
            .bottom-nav {
                display: flex;
                justify-content: space-around;
            }
            
            .main-content {
                padding-bottom: 80px;
            }
        }
    </style>
</head>
<body>
    <div class="main-container">
        <!-- Header -->
        <header class="header">
            <div class="header-left">
                <div class="logo">
                    <i class="fas fa-graduation-cap"></i>
                    AttendPro Student
                </div>
            </div>
            <div class="header-right">
                <div class="user-info">
                    <i class="fas fa-user-circle"></i>
                    <span id="studentName">Student Name</span>
                </div>
                <div class="datetime" id="currentDateTime"></div>
                <button class="header-btn logout" onclick="logout()">
                    <i class="fas fa-sign-out-alt"></i> Logout
                </button>
            </div>
        </header>

        <!-- Sidebar -->
        <div class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-brand">
                    <i class="fas fa-graduation-cap fa-3x mb-3"></i>
                    <h4>AttendPro</h4>
                    <p>Student Dashboard</p>
                </div>
            </div>
            <ul class="sidebar-nav">
                <li class="nav-item active" data-target="dashboard">
                    <i class="fas fa-home"></i>
                    <span class="nav-text">Dashboard</span>
                </li>
                <li class="nav-item" data-target="attendance">
                    <i class="fas fa-calendar-check"></i>
                    <span class="nav-text">Attendance</span>
                </li>
                <li class="nav-item" data-target="schedule">
                    <i class="fas fa-calendar-alt"></i>
                    <span class="nav-text">Schedule</span>
                </li>
                <li class="nav-item" data-target="grades">
                    <i class="fas fa-graduation-cap"></i>
                    <span class="nav-text">Grades</span>
                </li>
                <li class="nav-item" data-target="profile">
                    <i class="fas fa-user"></i>
                    <span class="nav-text">Profile</span>
                </li>
                <li class="nav-item" data-target="settings">
                    <i class="fas fa-cog"></i>
                    <span class="nav-text">Settings</span>
                </li>
                <li class="nav-item" data-target="help">
                    <i class="fas fa-question-circle"></i>
                    <span class="nav-text">Help</span>
                </li>
                <li class="nav-item" data-target="pomodoro">
                    <i class="fas fa-clock"></i>
                    <span class="nav-text">Pomodoro</span>
                </li>
                <li class="nav-item" data-target="notes">
                    <i class="fas fa-sticky-note"></i>
                    <span class="nav-text">Study Notes</span>
                </li>
                <li class="nav-item" data-target="notices">
                    <i class="fas fa-bullhorn"></i>
                    <span class="nav-text">Notices</span>
                </li>
                <li class="nav-item" data-target="shared-notes">
                    <i class="fas fa-share-alt"></i>
                    <span class="nav-text">Faculty Notes</span>
                </li>
                <li class="nav-item" data-target="analytics">
                    <i class="fas fa-chart-bar"></i>
                    <span class="nav-text">Analytics</span>
                </li>
                <li class="nav-item" data-target="achievements">
                    <i class="fas fa-trophy"></i>
                    <span class="nav-text">Achievements</span>
                </li>
                <li class="nav-item" id="logout-btn">
                    <i class="fas fa-sign-out-alt"></i>
                    <span class="nav-text">Logout</span>
                </li>
            </ul>
        </div>

        <!-- Main Content -->
        <div class="main-content" id="main-content">
            <button class="mobile-menu-btn" id="mobile-menu-btn">
                <i class="fas fa-bars"></i>
            </button>

            <div class="header-card">
                <div class="welcome-header">
                    <div class="welcome-info">
                        <h2>Welcome, Student!</h2>
                        <p class="mb-0 text-muted">Access your academic information and manage your studies. - Developed by Pratham Singh</p>
                    </div>
                    <div class="d-flex align-items-center gap-3">
                        <div class="date-info">
                            <span id="current-day"></span>, <span id="current-date"></span>
                        </div>
                        <button class="btn btn-outline-primary btn-sm" onclick="loadDashboardData()" title="Refresh Data">
                            <i class="fas fa-sync-alt"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Dashboard Section -->
            <section id="dashboard" class="content-section active">
                <div class="row">
                    <div class="col-lg-6 mb-4">
                        <div class="row">
                            <div class="col-md-6 mb-4">
                                <div class="stat-card">
                                    <div class="stat-icon bg-primary">
                                        <i class="fas fa-chart-line"></i>
                                    </div>
                                    <div class="stat-value" id="total-attendance-percent">85%</div>
                                    <p class="stat-label">Total Attendance</p>
                                    <div class="progress">
                                        <div class="progress-bar" id="total-attendance-progress" style="width: 85%;"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6 mb-4">
                                <div class="stat-card">
                                    <div class="stat-icon bg-success">
                                        <i class="fas fa-calendar-check"></i>
                                    </div>
                                    <div class="stat-value" id="monthly-attendance-percent">90%</div>
                                    <p class="stat-label">Monthly Attendance</p>
                                    <div class="progress">
                                        <div class="progress-bar bg-success" id="monthly-attendance-progress" style="width: 90%;"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 mb-4">
                                <div class="stat-card">
                                    <h5 class="section-title">
                                        <i class="fas fa-tasks"></i> Upcoming Tasks
                                    </h5>
                                    <ul class="list-group list-group-flush">
                                        <li class="list-group-item d-flex justify-content-between align-items-center">
                                            <span>Math Assignment</span>
                                            <span class="badge bg-primary">Due Tomorrow</span>
                                        </li>
                                        <li class="list-group-item d-flex justify-content-between align-items-center">
                                            <span>Science Quiz</span>
                                            <span class="badge bg-success">2 Days</span>
                                        </li>
                                        <li class="list-group-item d-flex justify-content-between align-items-center">
                                            <span>English Essay</span>
                                            <span class="badge bg-warning">Next Week</span>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="col-12 mb-4">
                                <div class="stat-card">
                                    <h5 class="section-title">
                                        <i class="fas fa-trophy"></i> Recent Achievements
                                    </h5>
                                    <div id="achievements-container">
                                        <div class="achievement-badge">
                                            <i class="fas fa-star me-2"></i>First Study Session
                                        </div>
                                        <div class="achievement-badge">
                                            <i class="fas fa-fire me-2"></i>3 Day Streak
                                        </div>
                                        <div class="achievement-badge">
                                            <i class="fas fa-clock me-2"></i>Pomodoro Master
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6 mb-4">
                        <div class="stat-card">
                            <h5 class="section-title">
                                <i class="fas fa-clock"></i> Digital Clock & Calendar
                            </h5>
                            <div class="text-center">
                                <div class="clock-container">
                                    <div class="clock">
                                        <div class="hour-hand" id="hour-hand"></div>
                                        <div class="minute-hand" id="minute-hand"></div>
                                        <div class="second-hand" id="second-hand"></div>
                                        <div class="center-dot"></div>
                                    </div>
                                </div>
                                <div class="time-display" id="time-display"></div>
                                <div class="date-display" id="date-display"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Attendance Section -->
            <section id="attendance" class="content-section">
                <h3 class="section-title">
                    <i class="fas fa-clipboard-list"></i> Your Attendance Report
                </h3>
                <div class="row">
                    <div class="col-md-6 mb-4">
                        <div class="stat-card">
                            <h5>Overall Attendance</h5>
                            <div class="stat-value">85%</div>
                            <div class="progress">
                                <div class="progress-bar" style="width: 85%;"></div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 mb-4">
                        <div class="stat-card">
                            <h5>This Month</h5>
                            <div class="stat-value">90%</div>
                            <div class="progress">
                                <div class="progress-bar bg-success" style="width: 90%;"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Schedule Section -->
            <section id="schedule" class="content-section">
                <h3 class="section-title">
                    <i class="fas fa-calendar-alt"></i> Your Weekly Schedule
                </h3>
                <div class="stat-card">
                    <p>Your class schedule will be displayed here.</p>
                </div>
            </section>

            <!-- Grades Section -->
            <section id="grades" class="content-section">
                <h3 class="section-title">
                    <i class="fas fa-graduation-cap"></i> Academic Performance
                </h3>
                <div class="row">
                    <div class="col-md-4 mb-4">
                        <div class="stat-card">
                            <div class="stat-icon bg-success">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <div class="stat-value">A+</div>
                            <p class="stat-label">Overall Grade</p>
                        </div>
                    </div>
                    <div class="col-md-4 mb-4">
                        <div class="stat-card">
                            <div class="stat-icon bg-info">
                                <i class="fas fa-book"></i>
                            </div>
                            <div class="stat-value">8</div>
                            <p class="stat-label">Subjects</p>
                        </div>
                    </div>
                    <div class="col-md-4 mb-4">
                        <div class="stat-card">
                            <div class="stat-icon bg-warning">
                                <i class="fas fa-trophy"></i>
                            </div>
                            <div class="stat-value">#5</div>
                            <p class="stat-label">Class Rank</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Profile Section -->
            <section id="profile" class="content-section">
                <h3 class="section-title">
                    <i class="fas fa-user"></i> Student Profile
                </h3>
                <div class="stat-card">
                    <p>Your profile information will be displayed here.</p>
                </div>
            </section>

            <!-- Settings Section -->
            <section id="settings" class="content-section">
                <h3 class="section-title">
                    <i class="fas fa-cog"></i> Settings
                </h3>
                <div class="stat-card">
                    <p>System settings and preferences will be available here.</p>
                </div>
            </section>

            <!-- Help Section -->
            <section id="help" class="content-section">
                <h3 class="section-title">
                    <i class="fas fa-question-circle"></i> Help & Support
                </h3>
                <div class="stat-card">
                    <p>If you need assistance, please contact us at support@attendpro.com or call us at 123-456-7890.</p>
                </div>
            </section>

            <!-- Pomodoro Section -->
            <section id="pomodoro" class="content-section">
                <h3 class="section-title">
                    <i class="fas fa-clock"></i> Pomodoro Timer
                </h3>
                <div class="stat-card text-center">
                    <div class="mb-4">
                        <div class="stat-value" id="pomodoro-timer">25:00</div>
                        <p class="stat-label">Study Time</p>
                    </div>
                    <div class="d-flex justify-content-center gap-3">
                        <button class="btn-custom" id="start-pomodoro">
                            <i class="fas fa-play"></i> Start
                        </button>
                        <button class="btn-custom" id="pause-pomodoro">
                            <i class="fas fa-pause"></i> Pause
                        </button>
                        <button class="btn-custom" id="reset-pomodoro">
                            <i class="fas fa-stop"></i> Reset
                        </button>
                    </div>
                </div>
            </section>

            <!-- Study Notes Section -->
            <section id="notes" class="content-section">
                <h3 class="section-title">
                    <i class="fas fa-sticky-note"></i> Study Notes
                </h3>
                <div class="stat-card">
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <h5>My Study Notes</h5>
                        <button class="btn btn-primary" onclick="showAddNoteModal()">
                            <i class="fas fa-plus"></i> Add Note
                        </button>
                    </div>
                    <div id="study-notes-container">
                        <div class="text-center text-muted">
                            <i class="fas fa-sticky-note fa-3x mb-3"></i>
                            <p>No study notes yet. Create your first note!</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Notices Section -->
            <section id="notices" class="content-section">
                <h3 class="section-title">
                    <i class="fas fa-bullhorn"></i> Notice Board
                </h3>
                <div class="stat-card">
                    <div id="notices-container">
                        <div class="notice-item">
                            <div class="notice-header">
                                <h5>Important: Mid-term Exam Schedule</h5>
                                <span class="badge bg-danger">Urgent</span>
                            </div>
                            <p class="notice-content">Mid-term examinations will be conducted from March 15-20. Please check your schedule.</p>
                            <small class="text-muted">Posted: 2 hours ago</small>
                        </div>
                        <div class="notice-item">
                            <div class="notice-header">
                                <h5>Library Hours Extended</h5>
                                <span class="badge bg-info">Info</span>
                            </div>
                            <p class="notice-content">Library will remain open until 10 PM during exam period.</p>
                            <small class="text-muted">Posted: 1 day ago</small>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Faculty Notes Section -->
            <section id="shared-notes" class="content-section">
                <h3 class="section-title">
                    <i class="fas fa-file-alt"></i> Faculty Notes
                </h3>
                <div class="stat-card">
                    <div id="faculty-notes-container">
                        <div class="note-item">
                            <div class="note-header">
                                <h5>Mathematics - Calculus Chapter 5</h5>
                                <span class="badge bg-primary">Math</span>
                            </div>
                            <p class="note-content">Important formulas and examples for integration techniques.</p>
                            <div class="note-actions">
                                <button class="btn btn-sm btn-outline-primary">View</button>
                                <button class="btn btn-sm btn-outline-success">Download</button>
                            </div>
                        </div>
                        <div class="note-item">
                            <div class="note-header">
                                <h5>Physics - Thermodynamics</h5>
                                <span class="badge bg-warning">Physics</span>
                            </div>
                            <p class="note-content">Laws of thermodynamics with practical examples.</p>
                            <div class="note-actions">
                                <button class="btn btn-sm btn-outline-primary">View</button>
                                <button class="btn btn-sm btn-outline-success">Download</button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Analytics Section -->
            <section id="analytics" class="content-section">
                <h3 class="section-title">
                    <i class="fas fa-chart-bar"></i> Study Analytics
                </h3>
                <div class="row">
                    <div class="col-lg-8 mb-4">
                        <div class="stat-card">
                            <h5>Study Time Distribution</h5>
                            <canvas id="studyTimeChart" width="400" height="200"></canvas>
                        </div>
                    </div>
                    <div class="col-lg-4 mb-4">
                        <div class="stat-card">
                            <h5>Weekly Progress</h5>
                            <div class="progress-item">
                                <span>Monday</span>
                                <div class="progress">
                                    <div class="progress-bar" style="width: 80%"></div>
                                </div>
                            </div>
                            <div class="progress-item">
                                <span>Tuesday</span>
                                <div class="progress">
                                    <div class="progress-bar" style="width: 90%"></div>
                                </div>
                            </div>
                            <div class="progress-item">
                                <span>Wednesday</span>
                                <div class="progress">
                                    <div class="progress-bar" style="width: 75%"></div>
                                </div>
                            </div>
                            <div class="progress-item">
                                <span>Thursday</span>
                                <div class="progress">
                                    <div class="progress-bar" style="width: 85%"></div>
                                </div>
                            </div>
                            <div class="progress-item">
                                <span>Friday</span>
                                <div class="progress">
                                    <div class="progress-bar" style="width: 95%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Achievements Section -->
            <section id="achievements" class="content-section">
                <h3 class="section-title">
                    <i class="fas fa-trophy"></i> Achievements & Badges
                </h3>
                <div class="row">
                    <div class="col-md-6 mb-4">
                        <div class="stat-card">
                            <h5>Your Stats</h5>
                            <div class="achievement-stats">
                                <div class="stat-item">
                                    <span class="stat-number" id="total-points">1,250</span>
                                    <span class="stat-label">Total Points</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-number" id="current-level">Level 5</span>
                                    <span class="stat-label">Current Level</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-number" id="study-streak">7 days</span>
                                    <span class="stat-label">Study Streak</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 mb-4">
                        <div class="stat-card">
                            <h5>Recent Achievements</h5>
                            <div id="achievements-list">
                                <div class="achievement-item earned">
                                    <i class="fas fa-star"></i>
                                    <span>First Study Session</span>
                                </div>
                                <div class="achievement-item earned">
                                    <i class="fas fa-fire"></i>
                                    <span>3 Day Streak</span>
                                </div>
                                <div class="achievement-item earned">
                                    <i class="fas fa-clock"></i>
                                    <span>Pomodoro Master</span>
                                </div>
                                <div class="achievement-item">
                                    <i class="fas fa-graduation-cap"></i>
                                    <span>Perfect Week</span>
                                </div>
                                <div class="achievement-item">
                                    <i class="fas fa-book"></i>
                                    <span>Study Marathon</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>

    <!-- Notification Toast -->
    <div class="notification" id="notification"></div>
    
    <!-- Loading Indicator -->
    <div id="loading-indicator" style="display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 9999; background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
        <div class="text-center">
            <div class="spinner-border text-primary" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
            <p class="mt-2 mb-0">Loading data...</p>
        </div>
    </div>

    <!-- Study Notes Modal -->
    <div class="modal fade" id="noteModal" tabindex="-1" aria-labelledby="noteModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="noteModalLabel">Add Study Note</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="noteForm">
                        <div class="mb-3">
                            <label for="noteTitle" class="form-label">Title</label>
                            <input type="text" class="form-control" id="noteTitle" required>
                        </div>
                        <div class="mb-3">
                            <label for="noteSubject" class="form-label">Subject</label>
                            <select class="form-select" id="noteSubject" required>
                                <option value="">Select Subject</option>
                                <option value="Mathematics">Mathematics</option>
                                <option value="Physics">Physics</option>
                                <option value="Chemistry">Chemistry</option>
                                <option value="English">English</option>
                                <option value="Computer Science">Computer Science</option>
                                <option value="Other">Other</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="noteContent" class="form-label">Content</label>
                            <textarea class="form-control" id="noteContent" rows="8" required></textarea>
                        </div>
                        <div class="mb-3">
                            <label for="noteTags" class="form-label">Tags (comma separated)</label>
                            <input type="text" class="form-control" id="noteTags" placeholder="e.g., important, exam, homework">
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" onclick="saveNote()">Save Note</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Mobile Bottom Navigation -->
    <div class="bottom-nav">
        <a href="#" class="bottom-nav-item active" data-target="dashboard">
            <i class="fas fa-home"></i>
            <span>Home</span>
        </a>
        <a href="#" class="bottom-nav-item" data-target="attendance">
            <i class="fas fa-calendar-check"></i>
            <span>Attendance</span>
        </a>
        <a href="#" class="bottom-nav-item" data-target="pomodoro">
            <i class="fas fa-clock"></i>
            <span>Timer</span>
        </a>
        <a href="#" class="bottom-nav-item" data-target="analytics">
            <i class="fas fa-chart-bar"></i>
            <span>Analytics</span>
        </a>
        <a href="#" class="bottom-nav-item" data-target="achievements">
            <i class="fas fa-trophy"></i>
            <span>Achievements</span>
        </a>
    </div>

    <script>
        // Global variables
        let currentSection = 'dashboard';
        let pomodoroTimer = null;
        let pomodoroTime = 25 * 60; // 25 minutes in seconds
        let isPomodoroRunning = false;
        
        // User data
        let currentStudent = null;
        let studentId = null;
        
        // API Configuration
        const API_BASE_URL = 'http://localhost:8080/api/student';
        
        // Gamification variables
        let userPoints = 1250;
        let userLevel = 5;
        let userStreak = 7;
        let achievements = [
            { id: 'first_session', name: 'First Study Session', earned: true },
            { id: 'three_day_streak', name: '3 Day Streak', earned: true },
            { id: 'pomodoro_master', name: 'Pomodoro Master', earned: true },
            { id: 'perfect_week', name: 'Perfect Week', earned: false },
            { id: 'study_marathon', name: 'Study Marathon', earned: false }
        ];
        
        // Real-time features
        let liveStatsInterval = null;
        let studyReminderInterval = null;
        let refreshInterval = null;
        
        // Data cache
        let cachedData = {
            attendance: null,
            notices: null,
            profile: null,
            grades: null,
            schedule: null,
            facultyNotes: null,
            dashboardStats: null,
            studyNotes: []
        };

        // DOM elements
        const navItems = document.querySelectorAll('.nav-item');
        const sections = document.querySelectorAll('.content-section');
        const mobileMenuBtn = document.getElementById('mobile-menu-btn');
        const sidebar = document.getElementById('sidebar');
        const notification = document.getElementById('notification');

        // Initialize dashboard
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Student Dashboard loaded successfully!');
            
            // Get student ID from URL or localStorage
            initializeStudentData();
            
            initializeNavigation();
            initializeClock();
            initializePomodoro();
            initializeAnalytics();
            initializeGamification();
            initializeRealTimeFeatures();
            updateDateTime();
            
            // Update time every second
            setInterval(updateDateTime, 1000);
            
            // Load initial data
            loadDashboardData();
            
            showNotification('Dashboard loaded successfully!', 'success');
        });

        // API Functions
        async function apiCall(endpoint, options = {}) {
            try {
                const response = await fetch(`${API_BASE_URL}${endpoint}`, {
                    headers: {
                        'Content-Type': 'application/json',
                        ...options.headers
                    },
                    ...options
                });
                
                if (!response.ok) {
                    if (response.status === 404) {
                        throw new Error('Service not available. Please try again later.');
                    } else if (response.status === 500) {
                        throw new Error('Server error. Please try again later.');
                    } else {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }
                }
                
                const data = await response.json();
                return data;
            } catch (error) {
                console.error('API call failed:', error);
                // Show user-friendly error message
                if (error.message.includes('Failed to fetch')) {
                    showNotification('Unable to connect to server. Please check your internet connection.', 'error');
                } else {
                    showNotification(error.message, 'error');
                }
                throw error;
            }
        }
        
        // Data loading functions
        async function loadDashboardData() {
            if (!studentId) {
                console.error('Student ID not available');
                showNotification('Student ID not found. Please login again.', 'error');
                return;
            }
            
            try {
                showLoadingState();
                
                // Load all data in parallel with retry mechanism
                const [dashboardStats, attendance, notices, profile, grades, schedule, facultyNotes] = await Promise.allSettled([
                    loadWithRetry(() => loadDashboardStats(), 'Dashboard Stats'),
                    loadWithRetry(() => loadAttendanceData(), 'Attendance Data'),
                    loadWithRetry(() => loadNoticesData(), 'Notices Data'),
                    loadWithRetry(() => loadProfileData(), 'Profile Data'),
                    loadWithRetry(() => loadGradesData(), 'Grades Data'),
                    loadWithRetry(() => loadScheduleData(), 'Schedule Data'),
                    loadWithRetry(() => loadFacultyNotesData(), 'Faculty Notes Data')
                ]);
                
                hideLoadingState();
                
                // Update UI with loaded data
                updateDashboardUI();
                
                // Show success message only if most data loaded successfully
                const successCount = [dashboardStats, attendance, notices, profile, grades, schedule, facultyNotes]
                    .filter(result => result.status === 'fulfilled').length;
                
                if (successCount >= 4) {
                    showNotification('Dashboard data loaded successfully!', 'success');
                } else if (successCount > 0) {
                    showNotification('Some data loaded with errors. Please refresh to try again.', 'warning');
                }
                
            } catch (error) {
                console.error('Error loading dashboard data:', error);
                showNotification('Error loading data. Please refresh the page.', 'error');
                hideLoadingState();
            }
        }
        
        async function loadWithRetry(loadFunction, dataName, maxRetries = 2) {
            for (let i = 0; i < maxRetries; i++) {
                try {
                    return await loadFunction();
                } catch (error) {
                    console.warn(`Failed to load ${dataName}, attempt ${i + 1}:`, error);
                    if (i === maxRetries - 1) {
                        throw error;
                    }
                    // Wait before retry
                    await new Promise(resolve => setTimeout(resolve, 1000));
                }
            }
        }
        
        async function loadDashboardStats() {
            try {
                const data = await apiCall(`/dashboard-stats?studentId=${studentId}`);
                if (data.success) {
                    cachedData.dashboardStats = data.data;
                    return data.data;
                }
            } catch (error) {
                console.error('Error loading dashboard stats:', error);
            }
            return null;
        }
        
        async function loadAttendanceData() {
            try {
                const data = await apiCall(`/attendance?studentId=${studentId}`);
                if (data.success) {
                    cachedData.attendance = data.data;
                    return data.data;
                }
            } catch (error) {
                console.error('Error loading attendance data:', error);
            }
            return null;
        }
        
        async function loadNoticesData() {
            try {
                const data = await apiCall(`/notices?classId=${currentStudent?.classId || ''}`);
                if (data.success) {
                    cachedData.notices = data.data;
                    return data.data;
                }
            } catch (error) {
                console.error('Error loading notices data:', error);
            }
            return null;
        }
        
        async function loadProfileData() {
            try {
                const data = await apiCall(`/profile?studentId=${studentId}`);
                if (data.success) {
                    cachedData.profile = data.data;
                    currentStudent = data.data;
                    updateStudentInfo();
                    return data.data;
                }
            } catch (error) {
                console.error('Error loading profile data:', error);
            }
            return null;
        }
        
        async function loadGradesData() {
            try {
                const data = await apiCall(`/grades?studentId=${studentId}`);
                if (data.success) {
                    cachedData.grades = data.data;
                    return data.data;
                }
            } catch (error) {
                console.error('Error loading grades data:', error);
            }
            return null;
        }
        
        async function loadScheduleData() {
            try {
                const data = await apiCall(`/schedule?studentId=${studentId}`);
                if (data.success) {
                    cachedData.schedule = data.data;
                    return data.data;
                }
            } catch (error) {
                console.error('Error loading schedule data:', error);
            }
            return null;
        }
        
        async function loadFacultyNotesData() {
            try {
                const data = await apiCall(`/faculty-notes?studentId=${studentId}`);
                if (data.success) {
                    cachedData.facultyNotes = data.data;
                    return data.data;
                }
            } catch (error) {
                console.error('Error loading faculty notes data:', error);
            }
            return null;
        }
        
        // Initialize student data
        function initializeStudentData() {
            // Try to get student ID from URL parameters
            const urlParams = new URLSearchParams(window.location.search);
            studentId = urlParams.get('studentId');
            
            // If not in URL, try localStorage
            if (!studentId) {
                const savedStudent = localStorage.getItem('currentStudent');
                if (savedStudent) {
                    const student = JSON.parse(savedStudent);
                    studentId = student.id;
                    currentStudent = student;
                }
            }
            
            // If still no student ID, use a default for demo
            if (!studentId) {
                studentId = 1; // Default student ID for demo
                console.warn('Using default student ID for demo purposes');
            }
        }
        
        // Update student info in header
        function updateStudentInfo() {
            if (currentStudent) {
                const studentNameEl = document.getElementById('studentName');
                if (studentNameEl) {
                    studentNameEl.textContent = currentStudent.name || 'Student Name';
                }
            }
        }
        
        // Loading state management
        function showLoadingState() {
            const loadingEl = document.getElementById('loading-indicator');
            if (loadingEl) {
                loadingEl.style.display = 'block';
            }
        }
        
        function hideLoadingState() {
            const loadingEl = document.getElementById('loading-indicator');
            if (loadingEl) {
                loadingEl.style.display = 'none';
            }
        }
        
        // Update dashboard UI with loaded data
        function updateDashboardUI() {
            updateAttendanceUI();
            updateNoticesUI();
            updateProfileUI();
            updateGradesUI();
            updateScheduleUI();
            updateFacultyNotesUI();
            updateAnalyticsUI();
        }
        
        // Navigation functions
        function initializeNavigation() {
            navItems.forEach(item => {
                item.addEventListener('click', function() {
                    const targetId = this.getAttribute('data-target');
                    showSection(targetId);
                    
                    // Close sidebar on mobile
                    if (window.innerWidth <= 768) {
                        sidebar.classList.remove('show');
                    }
                });
            });

            // Mobile menu button
            mobileMenuBtn.addEventListener('click', function() {
                sidebar.classList.toggle('show');
            });

            // Logout button
            const logoutBtn = document.getElementById('logout-btn');
            if (logoutBtn) {
                logoutBtn.addEventListener('click', function() {
                    logout();
                });
            }

            // Close sidebar when clicking outside on mobile
            document.addEventListener('click', function(e) {
                if (window.innerWidth <= 768) {
                    if (!sidebar.contains(e.target) && !mobileMenuBtn.contains(e.target)) {
                        sidebar.classList.remove('show');
                    }
                }
            });
        }

        function showSection(targetId) {
            // Hide all sections
            sections.forEach(section => {
                section.classList.remove('active');
            });

            // Show target section
            const targetSection = document.getElementById(targetId);
            if (targetSection) {
                targetSection.classList.add('active');
            }

            // Update navigation
            navItems.forEach(item => {
                item.classList.remove('active');
            });

            // Activate nav item
            const activeNavItem = document.querySelector(`[data-target="${targetId}"]`);
            if (activeNavItem) {
                activeNavItem.classList.add('active');
            }

            currentSection = targetId;
        }

        // Clock functions
        function initializeClock() {
            updateClock();
            setInterval(updateClock, 1000);
        }

        function updateClock() {
            const now = new Date();
            const hours = now.getHours();
            const minutes = now.getMinutes();
            const seconds = now.getSeconds();

            // Update clock hands
            const hourHand = document.getElementById('hour-hand');
            const minuteHand = document.getElementById('minute-hand');
            const secondHand = document.getElementById('second-hand');

            if (hourHand && minuteHand && secondHand) {
                const hourAngle = (hours % 12) * 30 + minutes * 0.5;
                const minuteAngle = minutes * 6;
                const secondAngle = seconds * 6;

                hourHand.style.transform = `rotate(${hourAngle}deg)`;
                minuteHand.style.transform = `rotate(${minuteAngle}deg)`;
                secondHand.style.transform = `rotate(${secondAngle}deg)`;
            }

            // Update time display
            const timeDisplay = document.getElementById('time-display');
            if (timeDisplay) {
                timeDisplay.textContent = now.toLocaleTimeString();
            }
        }

        // Date and time functions
        function updateDateTime() {
            const now = new Date();
            const options = { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            };
            
            const currentDay = document.getElementById('current-day');
            const currentDate = document.getElementById('current-date');
            const currentDateTime = document.getElementById('currentDateTime');
            
            if (currentDay) {
                currentDay.textContent = now.toLocaleDateString('en-US', { weekday: 'long' });
            }
            
            if (currentDate) {
                currentDate.textContent = now.toLocaleDateString('en-US', { 
                    year: 'numeric', 
                    month: 'long', 
                    day: 'numeric' 
                });
            }

            if (currentDateTime) {
                currentDateTime.textContent = now.toLocaleString('en-US', {
                    weekday: 'short',
                    year: 'numeric',
                    month: 'short',
                    day: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit'
                });
            }
        }

        // Pomodoro functions
        function initializePomodoro() {
            const startBtn = document.getElementById('start-pomodoro');
            const pauseBtn = document.getElementById('pause-pomodoro');
            const resetBtn = document.getElementById('reset-pomodoro');

            if (startBtn) {
                startBtn.addEventListener('click', startPomodoro);
            }
            if (pauseBtn) {
                pauseBtn.addEventListener('click', pausePomodoro);
            }
            if (resetBtn) {
                resetBtn.addEventListener('click', resetPomodoro);
            }

            updatePomodoroDisplay();
        }

        function startPomodoro() {
            if (!isPomodoroRunning) {
                isPomodoroRunning = true;
                pomodoroTimer = setInterval(() => {
                    pomodoroTime--;
                    updatePomodoroDisplay();
                    
                    if (pomodoroTime <= 0) {
                        completePomodoro();
                    }
                }, 1000);
                
                showNotification('Pomodoro timer started!', 'success');
            }
        }

        function pausePomodoro() {
            if (isPomodoroRunning) {
                isPomodoroRunning = false;
                clearInterval(pomodoroTimer);
                showNotification('Pomodoro timer paused!', 'info');
            }
        }

        function resetPomodoro() {
            isPomodoroRunning = false;
            clearInterval(pomodoroTimer);
            pomodoroTime = 25 * 60;
            updatePomodoroDisplay();
            showNotification('Pomodoro timer reset!', 'info');
        }

        function updatePomodoroDisplay() {
            const minutes = Math.floor(pomodoroTime / 60);
            const seconds = pomodoroTime % 60;
            const timeString = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            
            const timerDisplay = document.getElementById('pomodoro-timer');
            if (timerDisplay) {
                timerDisplay.textContent = timeString;
            }
        }

        function completePomodoro() {
            isPomodoroRunning = false;
            clearInterval(pomodoroTimer);
            showNotification('Pomodoro session completed! Great job!', 'success');
            pomodoroTime = 25 * 60;
            updatePomodoroDisplay();
        }

        // Notification function
        function showNotification(message, type = 'info') {
            notification.textContent = message;
            notification.className = `notification ${type}`;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // Logout function
        function logout() {
            showNotification('Logging out...', 'info');
            setTimeout(() => {
                window.location.href = 'login.html';
            }, 1000);
        }

        // Analytics functions
        function initializeAnalytics() {
            // Initialize Chart.js if available
            if (typeof Chart !== 'undefined') {
                const ctx = document.getElementById('studyTimeChart');
                if (ctx) {
                    new Chart(ctx, {
                        type: 'doughnut',
                        data: {
                            labels: ['Mathematics', 'Physics', 'Chemistry', 'English', 'History'],
                            datasets: [{
                                data: [30, 25, 20, 15, 10],
                                backgroundColor: [
                                    '#667eea',
                                    '#764ba2',
                                    '#10b981',
                                    '#f59e0b',
                                    '#ef4444'
                                ]
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false
                        }
                    });
                }
            }
        }

        // Gamification functions
        function initializeGamification() {
            updateGamificationUI();
        }

        function updateGamificationUI() {
            // Update points
            const totalPointsEl = document.getElementById('total-points');
            if (totalPointsEl) {
                totalPointsEl.textContent = userPoints.toLocaleString();
            }

            // Update level
            const currentLevelEl = document.getElementById('current-level');
            if (currentLevelEl) {
                currentLevelEl.textContent = `Level ${userLevel}`;
            }

            // Update streak
            const studyStreakEl = document.getElementById('study-streak');
            if (studyStreakEl) {
                studyStreakEl.textContent = `${userStreak} days`;
            }

            // Update achievements
            const achievementsList = document.getElementById('achievements-list');
            if (achievementsList) {
                achievementsList.innerHTML = '';
                achievements.forEach(achievement => {
                    const achievementEl = document.createElement('div');
                    achievementEl.className = `achievement-item ${achievement.earned ? 'earned' : ''}`;
                    achievementEl.innerHTML = `
                        <i class="fas fa-${getAchievementIcon(achievement.id)}"></i>
                        <span>${achievement.name}</span>
                    `;
                    achievementsList.appendChild(achievementEl);
                });
            }
        }

        function getAchievementIcon(achievementId) {
            const icons = {
                'first_session': 'star',
                'three_day_streak': 'fire',
                'pomodoro_master': 'clock',
                'perfect_week': 'graduation-cap',
                'study_marathon': 'book'
            };
            return icons[achievementId] || 'trophy';
        }

        function addPoints(points) {
            userPoints += points;
            updateGamificationUI();
            showNotification(`+${points} points earned!`, 'success');
            checkLevelUp();
        }

        function checkLevelUp() {
            const newLevel = Math.floor(userPoints / 250) + 1;
            if (newLevel > userLevel) {
                userLevel = newLevel;
                showNotification(`Level Up! You're now Level ${userLevel}!`, 'success');
                updateGamificationUI();
            }
        }

        function updateStreak() {
            userStreak++;
            updateGamificationUI();
            showNotification(`Study streak: ${userStreak} days!`, 'info');
        }

        // Real-time features
        function initializeRealTimeFeatures() {
            startLiveStats();
            startStudyReminders();
            requestNotificationPermission();
        }

        function startLiveStats() {
            liveStatsInterval = setInterval(() => {
                updateLiveStats();
            }, 30000); // Update every 30 seconds
        }

        function updateLiveStats() {
            // Simulate live updates
            const attendancePercent = document.getElementById('total-attendance-percent');
            if (attendancePercent) {
                const currentPercent = parseInt(attendancePercent.textContent);
                const newPercent = Math.min(100, currentPercent + Math.floor(Math.random() * 2));
                attendancePercent.textContent = newPercent + '%';
                
                const progressBar = document.getElementById('total-attendance-progress');
                if (progressBar) {
                    progressBar.style.width = newPercent + '%';
                }
            }
        }

        function startStudyReminders() {
            studyReminderInterval = setInterval(() => {
                checkStudyReminders();
            }, 300000); // Check every 5 minutes
        }

        function checkStudyReminders() {
            const now = new Date();
            const hour = now.getHours();
            
            // Remind to study during study hours (9 AM - 6 PM)
            if (hour >= 9 && hour <= 18) {
                showNotification('Time for a study session! ', 'info');
            }
        }

        function requestNotificationPermission() {
            if ('Notification' in window) {
                Notification.requestPermission().then(permission => {
                    if (permission === 'granted') {
                        showNotification('Notifications enabled!', 'success');
                    }
                });
            }
        }

        function showBrowserNotification(title, body) {
            if ('Notification' in window && Notification.permission === 'granted') {
                new Notification(title, {
                    body: body,
                    icon: '/favicon.ico'
                });
            }
        }

        // Enhanced Pomodoro with gamification
        function completePomodoro() {
            isPomodoroRunning = false;
            clearInterval(pomodoroTimer);
            addPoints(50); // Award points for completing Pomodoro
            updateStreak();
            showNotification('Pomodoro session completed! Great job!', 'success');
            showBrowserNotification('Pomodoro Complete!', 'Great job! You earned 50 points!');
            pomodoroTime = 25 * 60;
            updatePomodoroDisplay();
        }

        // Mobile navigation
        function initializeMobileNavigation() {
            const bottomNavItems = document.querySelectorAll('.bottom-nav-item');
            bottomNavItems.forEach(item => {
                item.addEventListener('click', function(e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('data-target');
                    showSection(targetId);
                    
                    // Update active state
                    bottomNavItems.forEach(nav => nav.classList.remove('active'));
                    this.classList.add('active');
                });
            });
        }

        // UI Update Functions
        function updateAttendanceUI() {
            if (!cachedData.attendance) return;
            
            const attendanceData = cachedData.attendance.attendance || [];
            if (attendanceData.length === 0) return;
            
            // Calculate overall attendance percentage
            let totalPercentage = 0;
            let subjectCount = 0;
            
            attendanceData.forEach(subject => {
                totalPercentage += subject.percentage;
                subjectCount++;
            });
            
            const overallPercentage = subjectCount > 0 ? Math.round(totalPercentage / subjectCount) : 0;
            
            // Update dashboard stats
            const totalAttendancePercent = document.getElementById('total-attendance-percent');
            const totalAttendanceProgress = document.getElementById('total-attendance-progress');
            
            if (totalAttendancePercent) {
                totalAttendancePercent.textContent = overallPercentage + '%';
            }
            if (totalAttendanceProgress) {
                totalAttendanceProgress.style.width = overallPercentage + '%';
            }
            
            // Update attendance section
            const attendanceSection = document.getElementById('attendance');
            if (attendanceSection) {
                let attendanceHTML = '<h3 class="section-title"><i class="fas fa-clipboard-list"></i> Your Attendance Report</h3>';
                attendanceHTML += '<div class="row">';
                
                attendanceData.forEach(subject => {
                    const percentage = Math.round(subject.percentage);
                    const progressColor = percentage >= 75 ? 'bg-success' : percentage >= 50 ? 'bg-warning' : 'bg-danger';
                    
                    attendanceHTML += `
                        <div class="col-md-6 mb-4">
                            <div class="stat-card">
                                <h5>${subject.subject_name || 'Subject'}</h5>
                                <div class="stat-value">${percentage}%</div>
                                <div class="progress">
                                    <div class="progress-bar ${progressColor}" style="width: ${percentage}%"></div>
                                </div>
                                <small class="text-muted">
                                    ${subject.present_count || 0} / ${subject.total_classes || 0} classes
                                </small>
                            </div>
                        </div>
                    `;
                });
                
                attendanceHTML += '</div>';
                attendanceSection.innerHTML = attendanceHTML;
            }
        }
        
        function updateNoticesUI() {
            if (!cachedData.notices) return;
            
            const notices = cachedData.notices.notices || [];
            const noticesContainer = document.getElementById('notices-container');
            
            if (noticesContainer) {
                if (notices.length === 0) {
                    noticesContainer.innerHTML = '<p class="text-muted">No notices available.</p>';
                    return;
                }
                
                let noticesHTML = '';
                notices.forEach(notice => {
                    const priorityClass = notice.priority === 'HIGH' ? 'bg-danger' : 
                                        notice.priority === 'MEDIUM' ? 'bg-warning' : 'bg-info';
                    const timeAgo = getTimeAgo(notice.createdAt);
                    
                    noticesHTML += `
                        <div class="notice-item">
                            <div class="notice-header">
                                <h5>${notice.title}</h5>
                                <span class="badge ${priorityClass}">${notice.priority || 'Info'}</span>
                            </div>
                            <p class="notice-content">${notice.content}</p>
                            <small class="text-muted">Posted: ${timeAgo}</small>
                        </div>
                    `;
                });
                
                noticesContainer.innerHTML = noticesHTML;
            }
        }
        
        function updateProfileUI() {
            if (!cachedData.profile) return;
            
            const profile = cachedData.profile;
            const profileSection = document.getElementById('profile');
            
            if (profileSection) {
                const profileHTML = `
                    <h3 class="section-title"><i class="fas fa-user"></i> Student Profile</h3>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="stat-card">
                                <h5>Personal Information</h5>
                                <div class="mb-3">
                                    <strong>Name:</strong> ${profile.name || 'N/A'}<br>
                                    <strong>Roll Number:</strong> ${profile.rollNumber || 'N/A'}<br>
                                    <strong>Email:</strong> ${profile.email || 'N/A'}<br>
                                    <strong>Phone:</strong> ${profile.phone || 'N/A'}<br>
                                    <strong>Department:</strong> ${profile.department || 'N/A'}<br>
                                    <strong>Semester:</strong> ${profile.semester || 'N/A'}
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="stat-card">
                                <h5>Academic Information</h5>
                                <div class="mb-3">
                                    <strong>Class ID:</strong> ${profile.classId || 'N/A'}<br>
                                    <strong>Member Since:</strong> ${formatDate(profile.createdAt) || 'N/A'}
                                </div>
                            </div>
                        </div>
                    </div>
                `;
                
                profileSection.innerHTML = profileHTML;
            }
        }
        
        function updateGradesUI() {
            if (!cachedData.grades) return;
            
            const grades = cachedData.grades;
            const gradesSection = document.getElementById('grades');
            
            if (gradesSection) {
                let gradesHTML = '<h3 class="section-title"><i class="fas fa-graduation-cap"></i> Academic Performance</h3>';
                gradesHTML += '<div class="row">';
                
                // Overall stats
                gradesHTML += `
                    <div class="col-md-4 mb-4">
                        <div class="stat-card">
                            <div class="stat-icon bg-success">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <div class="stat-value">${grades.overallGrade || 'A+'}</div>
                            <p class="stat-label">Overall Grade</p>
                        </div>
                    </div>
                    <div class="col-md-4 mb-4">
                        <div class="stat-card">
                            <div class="stat-icon bg-info">
                                <i class="fas fa-book"></i>
                            </div>
                            <div class="stat-value">${grades.totalSubjects || 0}</div>
                            <p class="stat-label">Subjects</p>
                        </div>
                    </div>
                    <div class="col-md-4 mb-4">
                        <div class="stat-card">
                            <div class="stat-icon bg-warning">
                                <i class="fas fa-percentage"></i>
                            </div>
                            <div class="stat-value">${grades.overallPercentage || 0}%</div>
                            <p class="stat-label">Overall Percentage</p>
                        </div>
                    </div>
                `;
                
                gradesHTML += '</div>';
                
                // Subject-wise grades
                if (grades.grades && grades.grades.length > 0) {
                    gradesHTML += '<div class="row"><div class="col-12"><div class="stat-card"><h5>Subject-wise Grades</h5>';
                    gradesHTML += '<div class="table-responsive"><table class="table table-striped">';
                    gradesHTML += '<thead><tr><th>Subject</th><th>Code</th><th>Marks</th><th>Grade</th><th>Percentage</th></tr></thead><tbody>';
                    
                    grades.grades.forEach(grade => {
                        gradesHTML += `
                            <tr>
                                <td>${grade.subject}</td>
                                <td>${grade.subjectCode}</td>
                                <td>${grade.marks}/${grade.maxMarks}</td>
                                <td><span class="badge bg-primary">${grade.grade}</span></td>
                                <td>${grade.percentage}%</td>
                            </tr>
                        `;
                    });
                    
                    gradesHTML += '</tbody></table></div></div></div></div>';
                }
                
                gradesSection.innerHTML = gradesHTML;
            }
        }
        
        function updateScheduleUI() {
            if (!cachedData.schedule) return;
            
            const schedule = cachedData.schedule.schedule || [];
            const scheduleSection = document.getElementById('schedule');
            
            if (scheduleSection) {
                let scheduleHTML = '<h3 class="section-title"><i class="fas fa-calendar-alt"></i> Your Weekly Schedule</h3>';
                
                if (schedule.length === 0) {
                    scheduleHTML += '<div class="stat-card"><p class="text-muted">No schedule available.</p></div>';
                } else {
                    // Group by day
                    const scheduleByDay = {};
                    schedule.forEach(entry => {
                        if (!scheduleByDay[entry.day]) {
                            scheduleByDay[entry.day] = [];
                        }
                        scheduleByDay[entry.day].push(entry);
                    });
                    
                    const days = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];
                    
                    scheduleHTML += '<div class="row">';
                    days.forEach(day => {
                        if (scheduleByDay[day]) {
                            scheduleHTML += `
                                <div class="col-md-6 mb-4">
                                    <div class="stat-card">
                                        <h5>${day}</h5>
                                        <div class="list-group list-group-flush">
                            `;
                            
                            scheduleByDay[day].forEach(entry => {
                                scheduleHTML += `
                                    <div class="list-group-item">
                                        <div class="d-flex justify-content-between align-items-start">
                                            <div>
                                                <h6 class="mb-1">${entry.subject}</h6>
                                                <p class="mb-1">${entry.startTime} - ${entry.endTime}</p>
                                                <small class="text-muted">${entry.room} | ${entry.instructor}</small>
                                            </div>
                                        </div>
                                    </div>
                                `;
                            });
                            
                            scheduleHTML += '</div></div></div>';
                        }
                    });
                    
                    scheduleHTML += '</div>';
                }
                
                scheduleSection.innerHTML = scheduleHTML;
            }
        }
        
        function updateFacultyNotesUI() {
            if (!cachedData.facultyNotes) return;
            
            const notes = cachedData.facultyNotes.notes || [];
            const facultyNotesContainer = document.getElementById('faculty-notes-container');
            
            if (facultyNotesContainer) {
                if (notes.length === 0) {
                    facultyNotesContainer.innerHTML = '<p class="text-muted">No faculty notes available.</p>';
                    return;
                }
                
                let notesHTML = '';
                notes.forEach(note => {
                    const timeAgo = getTimeAgo(note.createdAt);
                    const subjectClass = getSubjectBadgeClass(note.subject);
                    
                    notesHTML += `
                        <div class="note-item">
                            <div class="note-header">
                                <h5>${note.title}</h5>
                                <span class="badge ${subjectClass}">${note.subject}</span>
                            </div>
                            <p class="note-content">${note.content}</p>
                            <div class="note-actions">
                                <button class="btn btn-sm btn-outline-primary" onclick="viewNote(${note.id})">
                                    <i class="fas fa-eye"></i> View
                                </button>
                                <button class="btn btn-sm btn-outline-success" onclick="downloadNote('${note.fileUrl}')">
                                    <i class="fas fa-download"></i> Download
                                </button>
                            </div>
                            <small class="text-muted">By ${note.facultyName}  ${timeAgo}</small>
                        </div>
                    `;
                });
                
                facultyNotesContainer.innerHTML = notesHTML;
            }
        }
        
        function updateAnalyticsUI() {
            if (!cachedData.dashboardStats) return;
            
            const stats = cachedData.dashboardStats;
            
            // Update dashboard stats
            const totalAttendancePercent = document.getElementById('total-attendance-percent');
            const totalAttendanceProgress = document.getElementById('total-attendance-progress');
            const monthlyAttendancePercent = document.getElementById('monthly-attendance-percent');
            const monthlyAttendanceProgress = document.getElementById('monthly-attendance-progress');
            
            if (totalAttendancePercent) {
                totalAttendancePercent.textContent = stats.totalAttendancePercentage + '%';
            }
            if (totalAttendanceProgress) {
                totalAttendanceProgress.style.width = stats.totalAttendancePercentage + '%';
            }
            if (monthlyAttendancePercent) {
                monthlyAttendancePercent.textContent = Math.round(stats.monthlyAttendancePercentage) + '%';
            }
            if (monthlyAttendanceProgress) {
                monthlyAttendanceProgress.style.width = Math.round(stats.monthlyAttendancePercentage) + '%';
            }
        }
        
        // Utility functions
        function getTimeAgo(dateString) {
            const now = new Date();
            const date = new Date(dateString);
            const diffInSeconds = Math.floor((now - date) / 1000);
            
            if (diffInSeconds < 60) return 'Just now';
            if (diffInSeconds < 3600) return Math.floor(diffInSeconds / 60) + ' minutes ago';
            if (diffInSeconds < 86400) return Math.floor(diffInSeconds / 3600) + ' hours ago';
            return Math.floor(diffInSeconds / 86400) + ' days ago';
        }
        
        function formatDate(dateString) {
            if (!dateString) return 'N/A';
            const date = new Date(dateString);
            return date.toLocaleDateString('en-US', {
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
        }
        
        function getSubjectBadgeClass(subject) {
            const classes = {
                'Mathematics': 'bg-primary',
                'Physics': 'bg-warning',
                'Chemistry': 'bg-success',
                'English': 'bg-info',
                'Computer Science': 'bg-secondary'
            };
            return classes[subject] || 'bg-light text-dark';
        }
        
        function viewNote(noteId) {
            showNotification('Opening note...', 'info');
            // Implement note viewing functionality
        }
        
        function downloadNote(fileUrl) {
            showNotification('Downloading note...', 'info');
            // Implement note download functionality
            window.open(fileUrl, '_blank');
        }
        
        // Real-time updates
        function startRealTimeUpdates() {
            refreshInterval = setInterval(() => {
                refreshData();
            }, 30000); // Refresh every 30 seconds
        }
        
        async function refreshData() {
            try {
                // Only refresh critical data, not everything
                const [attendance, notices, facultyNotes] = await Promise.allSettled([
                    loadAttendanceData(),
                    loadNoticesData(),
                    loadFacultyNotesData()
                ]);
                
                // Update UI only if data changed
                updateAttendanceUI();
                updateNoticesUI();
                updateFacultyNotesUI();
                
            } catch (error) {
                console.error('Error refreshing data:', error);
            }
        }
        
        function stopRealTimeUpdates() {
            if (refreshInterval) {
                clearInterval(refreshInterval);
                refreshInterval = null;
            }
        }
        
        // Study Notes Functions
        function showAddNoteModal() {
            const modal = new bootstrap.Modal(document.getElementById('noteModal'));
            document.getElementById('noteForm').reset();
            document.getElementById('noteModalLabel').textContent = 'Add Study Note';
            modal.show();
        }
        
        
        function updateStudyNotesUI() {
            const container = document.getElementById('study-notes-container');
            if (!container) return;
            
            if (cachedData.studyNotes.length === 0) {
                container.innerHTML = `
                    <div class="text-center text-muted">
                        <i class="fas fa-sticky-note fa-3x mb-3"></i>
                        <p>No study notes yet. Create your first note!</p>
                    </div>
                `;
                return;
            }
            
            let notesHTML = '';
            cachedData.studyNotes.forEach(note => {
                const timeAgo = getTimeAgo(note.createdAt);
                const subjectClass = getSubjectBadgeClass(note.subject);
                const tagsHTML = note.tags.map(tag => `<span class="badge bg-light text-dark me-1">${tag}</span>`).join('');
                
                notesHTML += `
                    <div class="note-item">
                        <div class="note-header">
                            <h5>${note.title}</h5>
                            <div class="d-flex align-items-center gap-2">
                                <span class="badge ${subjectClass}">${note.subject}</span>
                                <div class="dropdown">
                                    <button class="btn btn-sm btn-outline-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown">
                                        <i class="fas fa-ellipsis-v"></i>
                                    </button>
                                    <ul class="dropdown-menu">
                                        <li><a class="dropdown-item" href="#" onclick="editNote(${note.id})">
                                            <i class="fas fa-edit"></i> Edit
                                        </a></li>
                                        <li><a class="dropdown-item" href="#" onclick="deleteNote(${note.id})">
                                            <i class="fas fa-trash"></i> Delete
                                        </a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <p class="note-content">${note.content}</p>
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                ${tagsHTML}
                            </div>
                            <small class="text-muted">${timeAgo}</small>
                        </div>
                    </div>
                `;
            });
            
            container.innerHTML = notesHTML;
        }
        
        function editNote(noteId) {
            const note = cachedData.studyNotes.find(n => n.id === noteId);
            if (!note) return;
            
            document.getElementById('noteTitle').value = note.title;
            document.getElementById('noteSubject').value = note.subject;
            document.getElementById('noteContent').value = note.content;
            document.getElementById('noteTags').value = note.tags.join(', ');
            
            document.getElementById('noteModalLabel').textContent = 'Edit Study Note';
            
            const modal = new bootstrap.Modal(document.getElementById('noteModal'));
            modal.show();
            
            // Store the note ID for updating
            document.getElementById('noteModal').setAttribute('data-note-id', noteId);
        }
        
        function deleteNote(noteId) {
            if (confirm('Are you sure you want to delete this note?')) {
                cachedData.studyNotes = cachedData.studyNotes.filter(n => n.id !== noteId);
                updateStudyNotesUI();
                showNotification('Note deleted successfully!', 'success');
            }
        }
        
        // Update the saveNote function to handle editing
        function saveNote() {
            const title = document.getElementById('noteTitle').value.trim();
            const subject = document.getElementById('noteSubject').value;
            const content = document.getElementById('noteContent').value.trim();
            const tags = document.getElementById('noteTags').value.trim();
            const noteId = document.getElementById('noteModal').getAttribute('data-note-id');
            
            if (!title || !subject || !content) {
                showNotification('Please fill in all required fields', 'error');
                return;
            }
            
            if (noteId) {
                // Editing existing note
                const noteIndex = cachedData.studyNotes.findIndex(n => n.id == noteId);
                if (noteIndex !== -1) {
                    cachedData.studyNotes[noteIndex] = {
                        ...cachedData.studyNotes[noteIndex],
                        title: title,
                        subject: subject,
                        content: content,
                        tags: tags ? tags.split(',').map(tag => tag.trim()) : [],
                        updatedAt: new Date().toISOString()
                    };
                }
                document.getElementById('noteModal').removeAttribute('data-note-id');
            } else {
                // Creating new note
                const note = {
                    id: Date.now(),
                    title: title,
                    subject: subject,
                    content: content,
                    tags: tags ? tags.split(',').map(tag => tag.trim()) : [],
                    createdAt: new Date().toISOString(),
                    updatedAt: new Date().toISOString()
                };
                cachedData.studyNotes.unshift(note);
            }
            
            updateStudyNotesUI();
            
            // Close modal
            const modal = bootstrap.Modal.getInstance(document.getElementById('noteModal'));
            modal.hide();
            
            showNotification(noteId ? 'Note updated successfully!' : 'Note saved successfully!', 'success');
        }
        
        // Initialize mobile navigation
        document.addEventListener('DOMContentLoaded', function() {
            initializeMobileNavigation();
            startRealTimeUpdates();
            updateStudyNotesUI();
        });
    </script>
    
    <!-- Developer Credit -->
    <div style="position: fixed; bottom: 10px; right: 10px; background: rgba(0,0,0,0.7); color: white; padding: 5px 10px; border-radius: 15px; font-size: 12px; z-index: 9999;">
        Developed by <strong>Pratham Singh</strong>
    </div>
</body>
</html>
